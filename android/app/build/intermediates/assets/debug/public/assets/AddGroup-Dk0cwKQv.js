import{r as n,H as f,ah as p,w as o,j as a,P as g,N as x,p as m,d as h,$ as s,V as j}from"./index-D6xPw8DV.js";const N=({f7route:c,f7router:l})=>{const t=c.query.group_id,[r,u]=n.useState(),{watchAsyncFn:i}=f();n.useEffect(()=>{i(()=>p.groupInfoApi({group_id:Number(t)}).then(e=>{e.code==200?(u(e.data),e.data.preferences&&l.navigate(`/group_info/${t}/`,{reloadCurrent:!0})):(o(s("获取群信息失败")),console.log("获取群信息失败",e))}).catch(e=>{console.log("获取群聊失败",e)}))},[]);const d=()=>{j.addGruop(Number(t)).then(e=>{console.log("添加群",e),e.code==200?(o(s("添加成功")),l.navigate("/dialog/")):e.code==400?o(s("已加入群聊")):o(s("添加失败"))})};return a.jsxs(g,{noToolbar:!0,children:[a.jsx(x,{backLink:!0}),r?a.jsxs("div",{className:"flex w-full h-full flex-col items-center",children:[a.jsx(m,{className:"mt-20",square:!0,src:r.avatar}),a.jsx("span",{children:r.name}),a.jsx(h,{className:"w-52 mt-50",onClick:d,fill:!0,large:!0,round:!0,children:s("加入群聊")})]}):a.jsx("div",{className:"flex w-full h-full justify-center items-center",children:a.jsx("div",{children:"二维码失效"})})]})};export{N as default};
//# sourceMappingURL=AddGroup-Dk0cwKQv.js.map
