import{r as l,u as g,H as b,j as e,P as p,N,C as v,b as D,$ as s,d as y,D as C,U as S,f as x}from"./index-D6xPw8DV.js";const U=({f7router:u})=>{var c,i;const[t,f]=l.useState(!1),[r,h]=l.useState(""),[j,n]=l.useState(!0),a=g(),{watchAsyncFn:m}=b(),I=()=>{/^[a-zA-Z0-9_]{10,20}$/.test(r)?(n(!0),m(()=>S.updateUserInfoApi({coss_id:r}).then(d=>{d.code==200?(a.update({userInfo:{...a.userInfo,coss_id:r}}),u.back()):x.dialog.alert(s(d.msg))}).catch(()=>{x.dialog.alert(s("修改失败"))}))):n(!1)};return e.jsxs(p,{noToolbar:!0,children:[e.jsx(N,{backLink:!0,children:t&&e.jsx(v,{children:e.jsx(D,{onClick:I,children:"提交"})})}),t||e.jsxs("div",{className:"flex h-full flex-col justify-center gap-y-52",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-center font-bold text-xl",children:[s("用户ID"),": ",(c=a.userInfo)==null?void 0:c.coss_id]}),e.jsx("p",{className:"text-center text-gray-400",children:s("修改用户ID后，将无法找回原用户ID")})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{className:"w-52",onClick:()=>f(!t),fill:!0,large:!0,round:!0,children:s("修改用户ID")})})]}),t&&e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("h1",{className:"text-center text-xl font-bold mt-10 mb-5",children:"修改用户ID"}),e.jsx("div",{children:e.jsx(C,{defaultValue:(i=a.userInfo)==null?void 0:i.coss_id,onChange:o=>h(o)})}),e.jsx("span",{style:{color:j?"#bbb":"red"},className:"px-5 mt-5",children:"只能包含大小写字母、数字和下划线，并且长度在10到20个字符之间"})]})]})};export{U as default};
//# sourceMappingURL=ChangeUserID-RTA6WTFI.js.map
