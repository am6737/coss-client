import{r as b,m as h,j as a,P as g,N as p,$ as e,S as x,L as u,o as f,f as t,U as y}from"./index-D6xPw8DV.js";import{S as j}from"./searchbar-DXQBL9hB.js";const S=({f7router:l})=>{const[s,n]=b.useState(""),d=h(),m=async()=>{var r;try{t.dialog.preloader(e("搜索中..."));const i=(r=d.cacheContacts)==null?void 0:r.find(c=>(c==null?void 0:c.email)===s);if(i){l.navigate(`/profile/${i.user_id}/`);return}const{data:o}=await y.searchUserApi({email:s});if(!o){t.dialog.alert(e("搜索用户不存在"));return}l.navigate(`/personal_detail/${o.user_id}/`)}catch(i){console.error("搜索用户失败",i),t.dialog.alert(e("搜索用户失败"))}finally{t.dialog.close()}};return a.jsxs(g,{noToolbar:!0,className:"bg-bgTertiary coss_add",children:[a.jsx(p,{className:"hidden-navbar-bg bg-bgPrimary",backLink:!0,title:e("添加好友"),children:a.jsx(x,{inner:!1,className:"bg-bgPrimary coss_navbar_search",children:a.jsx(j,{placeholder:e("搜索邮箱"),disableButtonText:e("取消"),onChange:r=>n(r.target.value),onClickClear:()=>n(""),onClickDisable:()=>l.back()})})}),a.jsx(u,{className:"m-0 bg-bgPrimary py-2",children:!!s&&a.jsx(f,{link:!0,onClick:m,children:a.jsxs("div",{className:"flex items-center max-w-[70%] overflow-hidden text-ellipsis whitespace-nowrap line-clamp-1",children:[e("查找："),a.jsx("span",{className:"text-primary",children:s})]})})})]})};export{S as default};
//# sourceMappingURL=AddFriend-Bd7Q889r.js.map
