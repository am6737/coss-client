import{G as j,r,a0 as x,j as a,P as v,N as _,_ as f,$ as t,L as h,aj as L,o as c,f as i,ah as N}from"./index-D6xPw8DV.js";const G=({f7router:d})=>{const n=j(),[l,m]=r.useState({});return x(async()=>{try{i.dialog.preloader(t("获取中..."));const{code:e,data:s}=await N.groupListApi();e===200&&m(s)}catch(e){i.dialog.alert(t((e==null?void 0:e.message)||"获取群列表失败..."))}finally{i.dialog.close()}},()=>{},[]),a.jsxs(v,{className:"group-page",noToolbar:!0,messagesContent:!0,children:[a.jsx(_,{className:"messages-navbar",backLink:!0,children:a.jsx(f,{children:a.jsx("div",{className:"",children:t("群组")})})}),a.jsx(h,{contactsList:!0,noChevron:!0,dividers:!0,children:Object.keys(l).map(e=>a.jsxs(L,{children:[a.jsx(c,{groupTitle:!0,title:e}),l[e].map(s=>a.jsx(c,{title:s.name,popupClose:!0,onClick:async()=>{await n.init({dialogId:(s==null?void 0:s.dialog_id)??0,receiverId:(s==null?void 0:s.user_id)??(s==null?void 0:s.group_id)??0,isGroup:!!(s!=null&&s.group_id),receiverInfo:s}),d.navigate(`/message/${s==null?void 0:s.group_id}/${s==null?void 0:s.dialog_id}/?is_group=${s!=null&&s.user_id?"false":"true"}&dialog_name=${s==null?void 0:s.name}`)},children:a.jsx("img",{slot:"media",className:"size-10  object-cover rounded-full",src:s.avatar,alt:""})},s.group_id))]},e))})]})};export{G as default};
//# sourceMappingURL=GroupList-HfORbqRV.js.map
