import{r as d,g as ke,Q as M,V as fe,X as Be,h as O,i as me,R as c,Y as at,Z as Se,f as E,_ as a,a0 as it,a1 as Fe}from"./index-Co9Jrsve.js";function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var m=1;m<arguments.length;m++){var u=arguments[m];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(e[p]=u[p])}return e},pe.apply(this,arguments)}const Ae=d.forwardRef((e,m)=>{const u=d.useRef(null),{className:p,id:H,style:P,mode:R,value:w,buttons:C,customButtons:K,dividers:i,imageUrlText:U,linkUrlText:l,placeholder:I,clearFormattingOnPaste:$,resizable:q=!1}=e,Q=ke(e),b=d.useRef(null),k=(x,v)=>{a(e,"textEditorChange",v)},X=(x,v)=>{a(e,"textEditorInput",v)},Y=()=>{a(e,"textEditorFocus")},Z=()=>{a(e,"textEditorBlur")},G=(x,v)=>{a(e,"textEditorButtonClick",v)},J=()=>{a(e,"textEditorKeyboardOpen")},W=()=>{a(e,"textEditorKeyboardClose")},_=()=>{a(e,"textEditorPopoverOpen")},ee=()=>{a(e,"textEditorPopoverClose")},te=(x,v)=>{a(e,"textEditorInsertLink",v)},ne=(x,v)=>{a(e,"textEditorInsertImage",v)};d.useImperativeHandle(m,()=>({el:b.current,f7TextEditor:()=>u.current})),M(w,x=>{u.current&&u.current.setValue(x)});const re=()=>{const x=at({el:b.current,mode:R,value:w,buttons:C,customButtons:K,dividers:i,imageUrlText:U,linkUrlText:l,placeholder:I,clearFormattingOnPaste:$,on:{change:k,input:X,focus:Y,blur:Z,buttonClick:G,keyboardOpen:J,keyboardClose:W,popoverOpen:_,popoverClose:ee,insertLink:te,insertImage:ne}});Se(()=>{u.current=E.textEditor.create(x)})},ae=()=>{u.current&&u.current.destroy&&u.current.destroy(),u.current=null};fe(()=>(re(),ae),[]);const N=Be(e),ie=O(p,"text-editor",q&&"text-editor-resizable",me(e));return c.createElement("div",pe({ref:b,id:H,style:P,className:ie},Q),N["root-start"],c.createElement("div",{className:"text-editor-content",contentEditable:!0},N.default),N["root-end"],N.root)});Ae.displayName="f7-text-editor";const ot=Ae;function F(){return F=Object.assign?Object.assign.bind():function(e){for(var m=1;m<arguments.length;m++){var u=arguments[m];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(e[p]=u[p])}return e},F.apply(this,arguments)}const De=d.forwardRef((e,m)=>{const{className:u,id:p,style:H,sortable:P,media:R,dropdown:w="auto",wrap:C=!0,input:K=!0,type:i="text",name:U,value:l,defaultValue:I,inputmode:$,readonly:q,required:Q,disabled:b,placeholder:k,inputId:X,size:Y,accept:Z,autocomplete:G,autocorrect:J,autocapitalize:W,spellcheck:_,autofocus:ee,autosave:te,max:ne,min:re,step:ae,maxlength:N,minlength:ie,multiple:x,inputStyle:v,pattern:je,validate:f,validateOnBlur:g,onValidate:B,tabindex:Me,resizable:S,clearButton:He,noFormStoreData:Ke,noStoreData:Ue,ignoreStoreData:$e,errorMessage:A,errorMessageForce:z,info:oe,outline:qe,label:ve,floatingLabel:Qe,calendarParams:ge,colorPickerParams:xe,textEditorParams:Xe}=e,[T,Ee]=d.useState(!1),[he,ye]=d.useState(!1),Ye=d.useContext(it),{listIsSortable:Ze=!1}=Ye||{},Ge=ke(e),h=d.useRef(null),y=d.useRef(null),ue=d.useRef(null),n=d.useRef(null),be=d.useRef(null),se=d.useRef(!1),Ce=()=>{if(n.current)return n.current.value},Je=()=>{if(i==="datepicker"&&Array.isArray(l)&&l.length===0)return!1;const t=Ce();return typeof l>"u"?t||t===0:l||l===0},D=()=>{if(!E||!n.current)return;const t=n.current.validity;t&&(t.valid?(B&&B(!0),T!==!1&&Ee(!1)):(B&&B(!1),T!==!0&&Ee(!0)))},Ie=t=>{a(e,"textareaResize",t)},Ne=t=>{a(e,"inputNotEmpty",t)},Le=t=>{a(e,"inputEmpty",t)},Oe=t=>{a(e,"inputClear",t)},Pe=function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];a(e,"input",...s),!(g||g==="")&&(f||f==="")&&n.current&&D(n.current)},Re=function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];a(e,"focus",...s),ye(!0)},we=function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];a(e,"blur",...s),(f||f===""||g||g==="")&&n.current&&D(n.current),ye(!1)},ze=function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];a(e,"change",...s),i==="texteditor"&&a(e,"textEditorChange",s[0])};d.useImperativeHandle(m,()=>({el:ue.current}));const We=()=>{!ue.current&&!be.current||Se(()=>{n.current&&(n.current.addEventListener("input:notempty",Ne,!1),n.current.addEventListener("textarea:resize",Ie,!1),n.current.addEventListener("input:empty",Le,!1),n.current.addEventListener("input:clear",Oe,!1),i==="datepicker"&&(h.current=E.calendar.create({inputEl:n.current,value:l,on:{change(t,s){a(e,"calendarChange",s)}},...ge||{}})),i==="colorpicker"&&(y.current=E.colorPicker.create({inputEl:n.current,value:l,on:{change(t,s){a(e,"colorpicker:change colorPickerChange",s)}},...xe||{}})),!(g||g==="")&&(f||f==="")&&(typeof l<"u"&&l!==null&&l!==""||typeof I<"u"&&I!==null&&I!=="")&&setTimeout(()=>{D()},0),i==="textarea"&&S&&E.input.resizeTextarea(n.current))})},_e=()=>{n.current&&(n.current.removeEventListener("input:notempty",Ne,!1),n.current.removeEventListener("textarea:resize",Ie,!1),n.current.removeEventListener("input:empty",Le,!1),n.current.removeEventListener("input:clear",Oe,!1)),h.current&&h.current.destroy&&(h.current.destroy(),h.current=null),y.current&&y.current.destroy&&(y.current.destroy(),y.current=null)};fe(()=>(We(),_e),[]),fe(()=>{if(E&&se.current){if(!n.current)return;se.current=!1,f&&!g&&D(),i==="textarea"&&S&&E.input.resizeTextarea(n.current)}}),M(xe,t=>{!E||!y.current||Fe(y.current.params,t||{})}),M(ge,t=>{!E||!h.current||Fe(h.current.params,t||{})}),M(l,t=>{E&&(se.current=!0,h.current&&h.current.setValue(t),y.current&&y.current.setValue(t))});const r=Be(e),et=Ce(),Te=Je(),tt=P===!0||P===!1?P:Ze;let L;const j=(t,s)=>{const o=i!=="file"&&i!=="datepicker"&&i!=="colorpicker",nt=t==="input";let V=i;(V==="datepicker"||V==="colorpicker")&&(V="text");const rt=O({resizable:V==="textarea"&&S,"no-store-data":Ke||Ue||$e,"input-invalid":A&&z||T,"input-with-value":Te,"input-focused":he});let ce;o&&(typeof l<"u"?ce=l:ce=et);const de={};return i!=="datepicker"&&i!=="colorpicker"&&("value"in e&&(de.value=ce),"defaultValue"in e&&(de.defaultValue=I)),c.createElement(t,F({ref:n,style:v,name:U,type:nt?V:void 0,placeholder:k,inputMode:$,id:X,size:Y,accept:Z,autoComplete:G,autoCorrect:J,autoCapitalize:W,spellCheck:_,autoFocus:ee,autoSave:te,disabled:b,max:ne,maxLength:N,min:re,minLength:ie,step:ae,multiple:x,readOnly:q,required:Q,pattern:je,validate:typeof f=="string"&&f.length?f:void 0,"data-validate":f===!0||f===""||g===!0||g===""?!0:void 0,"data-validate-on-blur":g===!0||g===""?!0:void 0,tabIndex:Me,"data-error-message":z?void 0:A,className:rt,onFocus:Re,onBlur:we,onInput:Pe,onChange:ze},de),s)};K&&(i==="select"||i==="textarea"||i==="file"?i==="select"?L=j("select",r.default):i==="file"?L=j("input"):L=j("textarea"):i==="texteditor"?L=c.createElement(ot,F({value:l,resizable:S,placeholder:k,onTextEditorFocus:Re,onTextEditorBlur:we,onTextEditorInput:Pe,onTextEditorChange:ze},Xe||{})):L=j("input"));const le=!!A||r["error-message"]&&r["error-message"].length,Ve=c.createElement("div",{ref:be,className:O("item-content item-input",!C&&u,!C&&{disabled:b},!C&&me(e),{"item-input-outline":qe,"item-input-focused":he,"item-input-with-info":!!oe||r.info&&r.info.length,"item-input-with-value":Te,"item-input-with-error-message":le&&z||T,"item-input-invalid":le&&z||T})},r["content-start"],(R||r.media)&&c.createElement("div",{className:"item-media"},R&&c.createElement("img",{src:R}),r.media),c.createElement("div",{className:"item-inner"},r["inner-start"],(ve||r.label)&&c.createElement("div",{className:O("item-title item-label",{"item-floating-label":Qe})},ve,r.label),c.createElement("div",{className:O("item-input-wrap",{"input-dropdown":w==="auto"?i==="select":w})},L,r.input,le&&z&&c.createElement("div",{className:"item-input-error-message"},A,r["error-message"]),He&&c.createElement("span",{className:"input-clear-button"}),(oe||r.info)&&c.createElement("div",{className:"item-input-info"},oe,r.info)),r.inner,r["inner-end"]),r.content,r["content-end"]);return C?c.createElement("li",F({ref:ue,id:p,style:H,className:O(u,{disabled:b},me(e))},Ge),r["root-start"],Ve,tt&&c.createElement("div",{className:"sortable-handler"}),r.root,r["root-end"]):Ve});De.displayName="f7-list-input";const st=De;export{st as L};
